<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper    
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"    
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.dao.MessageInfoMapper">

	<!-- 配置resultMap属性，进行表字段与实体类属性映射 -->  
    <resultMap id="MessageInfoMap" type="cn.entity.MessageInfo" >  
       <result column="moblie" property="moblie"></result>  
       <result column="delivrd" property="delivrd"></result>  
       <result column="reportTime" property="reportTime"></result>         
    </resultMap> 
    
	<select id="findByMobile" resultMap="MessageInfoMap" parameterType="HashMap" >
		SELECT * FROM ${tablename} WHERE moblie = #{moblie}
	</select>
	
<!-- 	<select id="findByCreUserId" resultMap="BaseResultMap" parameterType="HashMap"> -->
<!-- 		SELECT * FROM api_acount_info WHERE CRE_USER_ID = #{creUserId} AND DELETE_STATUS = '0' -->
<!-- 	</select> -->

<!-- 	<update id="update" parameterType="cn.entity.ApiAccountInfo"> -->
<!-- 		UPDATE api_acount_info -->
<!-- 		<trim prefix="set" suffixOverrides=","> -->
<!-- 			<if test="creUserId != null"> -->
<!-- 				CRE_USER_ID = #{creUserId}, -->
<!-- 			</if> -->
<!-- 			<if test="name != null"> -->
<!-- 				NAME = #{name}, -->
<!-- 			</if> -->
<!-- 			<if test="password != null"> -->
<!-- 				PASSWORD = #{password}, -->
<!-- 			</if> -->
<!-- 			<if test="numReminding != null"> -->
<!-- 				NUM_REMINDING = #{numReminding}, -->
<!-- 			</if> -->
<!-- 			<if test="bdIp != null"> -->
<!-- 				BD_IP = #{bdIp}, -->
<!-- 			</if> -->
<!-- 			<if test="pushMobiles != null"> -->
<!-- 				PUSH_MOBILES = #{pushMobiles}, -->
<!-- 			</if> -->
<!-- 			<if test="deleteStatus != null"> -->
<!-- 				DELETE_STATUS = #{deleteStatus}, -->
<!-- 			</if> -->
<!-- 			<if test="updateTime != null"> -->
<!-- 				UPDATE_TIME = #{updateTime}, -->
<!-- 			</if> -->
<!-- 			version = version + 1 -->
<!-- 		</trim> -->
<!-- 		WHERE ID=#{id} and VERSION = #{version} -->
<!-- 	</update> -->
	
	 <insert id ="save" parameterType="HashMap" >
		REPLACE INTO ${tablename} (moblie,delivrd,reportTime)
		VALUES (
			#{moblie},
			#{delivrd},
			#{reportTime})
	 </insert>
	 
	 <insert id="saveList" useGeneratedKeys="true" parameterType="java.util.List">   
    insert into message(moblie,delivrd,reportTime)  
    values  
	    <foreach collection="list" item="item" index="index" separator="," >  
	        (#{item.moblie},#{item.delivrd},#{item.reportTime})  
	    </foreach>  
	</insert>  


</mapper>